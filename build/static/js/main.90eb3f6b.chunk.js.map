{"version":3,"sources":["ReactServiceWorker.js","index.js"],"names":["ReactServiceWorker","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","counter","decrement","event","stateToServiceWorker","setState","prevState","increment","inherits","createClass","key","value","data","navigator","serviceWorker","controller","postMessage","self","register","then","ready","addEventListener","undefined","catch","error","console","log","react_default","a","createElement","className","onClick","React","Component","rootElement","document","getElementById","ReactDOM","render","_useState","useState","_useState2","slicedToArray","setcounter","useEffect","ReactServiceWorker_ReactServiceWorker"],"mappings":"mMAEaA,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAAA,QAAAO,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAJ,IAAAe,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MACEQ,MAAQ,CAAEC,QAAS,GADrBhB,EAGEiB,UAAY,SAAAC,GACVlB,EAAKmB,qBAAqB,CACxBJ,MAAOf,EAAKe,MAAMC,QAAU,IAE9BhB,EAAKoB,SAAS,SAAAC,GAAS,MAAK,CAAEL,QAASK,EAAUL,QAAU,MAP/DhB,EAUEsB,UAAY,SAAAJ,GACVlB,EAAKmB,qBAAqB,CACxBJ,MAAOf,EAAKe,MAAMC,QAAU,IAE9BhB,EAAKoB,SAAS,SAAAC,GAAS,MAAK,CAAEL,QAASK,EAAUL,QAAU,MAd/DhB,EAAA,OAAAC,OAAAsB,EAAA,EAAAtB,CAAAJ,EAAAC,GAAAG,OAAAuB,EAAA,EAAAvB,CAAAJ,EAAA,EAAA4B,IAAA,uBAAAC,MAAA,SAiBuBC,GACfC,UAAUC,eAAiBD,UAAUC,cAAcC,YACrDF,UAAUC,cAAcC,WAAWC,YAAYJ,KAnBrD,CAAAF,IAAA,oBAAAC,MAAA,WAuBI,IAAMM,EAAO7B,KACT,kBAAmByB,WACrBA,UAAUC,cACPI,SAAS,uBACTC,KAAK,kBAAMN,UAAUC,cAAcM,QACnCD,KAAK,WACJN,UAAUC,cAAcO,iBAAiB,UAAW,SAASlB,GACvDA,EAAMS,WAA6BU,IAArBnB,EAAMS,KAAKZ,OAC3BiB,EAAKZ,SAAS,CAAEJ,QAASE,EAAMS,KAAKZ,YAIzCuB,MAAM,SAAAC,GACLC,QAAQC,IAAI,WAAYF,OApClC,CAAAd,IAAA,SAAAC,MAAA,WA0CI,OACEgB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAW1C,KAAKY,MAAMC,SACrC0B,EAAAC,EAAAC,cAAA,UAAQC,UAAU,YAAYC,QAAS3C,KAAKc,WAA5C,KAGAyB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,YAAYC,QAAS3C,KAAKmB,WAA5C,UAhDRzB,EAAA,CAAwCkD,IAAMC,iBCiE9C,IAAMC,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAOX,EAAAC,EAAAC,cA9DhB,WAAe,IAAAU,EACiBC,mBAAS,GAD1BC,EAAAvD,OAAAwD,EAAA,EAAAxD,CAAAqD,EAAA,GACGI,GADHF,EAAA,GAAAA,EAAA,IA4Cb,OAnBAG,oBAAU,WACJ,kBAAmB/B,WACrBA,UAAUC,cACPI,SAAS,uBACTC,KAAK,kBAAMN,UAAUC,cAAcM,QACnCD,KAAK,WACJN,UAAUC,cAAcO,iBAAiB,UAAW,SAASlB,GACvDA,EAAMS,WAA6BU,IAArBnB,EAAMS,KAAKZ,QAC3ByB,QAAQC,IAAIvB,EAAMS,MAClB+B,EAAWxC,EAAMS,KAAKZ,YAI3BuB,MAAM,SAAAC,GACLC,QAAQC,IAAI,WAAYF,MAG7B,CAACmB,IAGFhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAWbH,EAAAC,EAAAC,cAACgB,EAAD,QAMU,MAASX","file":"static/js/main.90eb3f6b.chunk.js","sourcesContent":["import React from \"react\";\n\nexport class ReactServiceWorker extends React.Component {\n  state = { counter: 0 };\n\n  decrement = event => {\n    this.stateToServiceWorker({\n      state: this.state.counter - 1\n    });\n    this.setState(prevState => ({ counter: prevState.counter - 1 }));\n  };\n\n  increment = event => {\n    this.stateToServiceWorker({\n      state: this.state.counter + 1\n    });\n    this.setState(prevState => ({ counter: prevState.counter + 1 }));\n  };\n\n  stateToServiceWorker(data) {\n    if (navigator.serviceWorker && navigator.serviceWorker.controller)\n      navigator.serviceWorker.controller.postMessage(data);\n  }\n\n  componentDidMount() {\n    const self = this;\n    if (\"serviceWorker\" in navigator) {\n      navigator.serviceWorker\n        .register(\"./service-worker.js\")\n        .then(() => navigator.serviceWorker.ready)\n        .then(() => {\n          navigator.serviceWorker.addEventListener(\"message\", function(event) {\n            if (event.data && event.data.state !== undefined) {\n              self.setState({ counter: event.data.state });\n            }\n          });\n        })\n        .catch(error => {\n          console.log(\"Error : \", error);\n        });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"counter\">{this.state.counter}</div>\n        <button className=\"decrement\" onClick={this.decrement}>\n          -\n        </button>\n        <button className=\"increment\" onClick={this.increment}>\n          +\n        </button>\n      </div>\n    );\n  }\n}\n","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ReactServiceWorker } from \"./ReactServiceWorker.js\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  const [counter, setcounter] = useState(0);\n\n  const decrement = () => {\n    stateToServiceWorker({\n      state: counter - 1\n    });\n\n    setcounter(counter - 1);\n  };\n\n  const increment = () => {\n    stateToServiceWorker({\n      state: counter + 1\n    });\n\n    setcounter(counter + 1);\n  };\n\n  const stateToServiceWorker = data => {\n    if (navigator.serviceWorker && navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage(data);\n    }\n  };\n\n  useEffect(() => {\n    if (\"serviceWorker\" in navigator) {\n      navigator.serviceWorker\n        .register(\"./service-worker.js\")\n        .then(() => navigator.serviceWorker.ready)\n        .then(() => {\n          navigator.serviceWorker.addEventListener(\"message\", function(event) {\n            if (event.data && event.data.state !== undefined) {\n              console.log(event.data);\n              setcounter(event.data.state);\n            }\n          });\n        })\n        .catch(error => {\n          console.log(\"Error : \", error);\n        });\n    }\n  }, [setcounter]);\n\n  return (\n    <div className=\"App\">\n      {/* <div className=\"container\">\n        <div className=\"counter\">{counter}</div>\n        <button className=\"decrement\" onClick={decrement}>\n          -\n        </button>\n        <button className=\"increment\" onClick={increment}>\n          +\n        </button>\n      </div> */}\n\n      <ReactServiceWorker />\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}